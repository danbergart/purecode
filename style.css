:root {
  --page: #f3f3f3; /* light grey page (Shopify friendly) */
  --text: #111; /* dark page text */
  --muted: #666;

  --panel: #000; /* editor background (console) */
  --line: #dcdcdc; /* thin borders on light UI */

  /* syntax colors */
  --tok-key: #ff9900;
  --tok-str: #33ff66;
  --tok-num: #00ccff;
  --tok-punc: #bdbdbd;

  --primary: #111; /* filled primary button bg */
  --primaryText: #fff; /* filled primary button text */
}

* {
  box-sizing: border-box;
}

body {
  margin: 0;
  padding: 24px;
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, "Courier New",
    monospace;
  background: var(--page);
  color: var(--text);
  text-align: center;
}

/* Buttons */
.buttons {
  display: flex;
  gap: 12px;
  justify-content: center;
  flex-wrap: wrap;
}

.buttons-top {
  margin: 4px 0 14px;
}
.buttons-bottom {
  margin: 14px 0 20px;
}

button {
  background: #fff;
  color: var(--text);
  border: 1px solid var(--line);
  padding: 10px 16px;
  border-radius: 10px;
  cursor: pointer;
  font-family: inherit;
  font-size: 14px;
  box-shadow: 0 1px 0 rgba(0, 0, 0, 0.03);
  transition: transform 80ms ease, filter 120ms ease, opacity 120ms ease;
}
button:hover {
  background: #fafafa;
}
button:active {
  transform: translateY(1px);
}
button.busy {
  opacity: 0.65;
  pointer-events: none;
}

button.primary {
  background: var(--primary);
  color: var(--primaryText);
  border-color: #000;
}
button.primary:hover {
  filter: brightness(1.05);
}

/* Editor (textarea on top of highlighted <pre>) */
.editor {
  position: relative;
  width: min(920px, 90vw);
  margin: 0 auto;
  background: var(--panel);
  border: 1px solid var(--line);
  border-radius: 10px;
  text-align: left;
  overflow: hidden;
}

pre.code,
textarea#cardInput {
  margin: 0;
  padding: 14px;
  font: 14px/1.4 ui-monospace, SFMono-Regular, Menlo, Monaco, "Courier New",
    monospace;
  white-space: pre-wrap;
  word-break: break-word;
}

pre.code {
  color: #fff;
  pointer-events: none;
  min-height: 160px;
  opacity: 0.35; /* dim so white typed text is readable */
}

/* syntax tokens */
.k {
  color: var(--tok-key);
}
.s {
  color: var(--tok-str);
}
.n {
  color: var(--tok-num);
}
.p {
  color: var(--tok-punc);
}

textarea#cardInput {
  position: absolute;
  inset: 0;
  background: transparent;
  color: #fff; /* <-- visible white typing */
  -webkit-text-fill-color: #fff; /* fix for some mobile browsers */
  caret-color: #fff;
  border: none;
  outline: none;
  resize: vertical;
  min-height: 160px;
}

/* Card canvas â€” white card on light page */
canvas {
  border: none;
  background: #fff;
  border-radius: 14px;
  box-shadow: 0 0 0 1px rgba(0, 0, 0, 0.05), 0 6px 18px rgba(0, 0, 0, 0.06);
  width: 360px;
  height: auto;
  margin: 0 auto;
  display: block;
}

/* Overlay prevents page scroll when open */
body.scan-open {
  overflow: hidden;
}

/* ===== Mobile tweaks ===== */
@media (max-width: 640px) {
  body {
    padding: 18px;
  }

  pre.code,
  textarea#cardInput {
    font-size: 16px;
    line-height: 1.45;
  }
  pre.code {
    min-height: 220px;
  }
  textarea#cardInput {
    min-height: 220px;
  }

  .editor {
    width: 94vw;
  }

  .buttons {
    gap: 10px;
  }
  button {
    width: 94vw;
    max-width: 520px;
    padding: 14px 16px;
    font-size: 16px;
  }
  canvas {
    width: 86vw;
    max-width: 420px;
  }
}
